var Berf,berf;(function(n){var t=window.performance||{},u=function(){function n(){var t=this,i,n;this.Timeout=5e3;this.extend=function(n,t){for(var i in t)n[i]=t[i];return n};this.Queue=[];i=document.querySelector?document.querySelector("[berf-url]"):{getAttribute:function(){}};this.Url=i.getAttribute("berf-url");n=typeof window.addEventListener=="undefined"?function(){}:window.addEventListener;n("beforeunload",function(n){t.onBeforeUnload(n)});n("load",function(n){t.onLoad(n)})}return n.prototype.logResources=function(){var n,i,r;if(typeof t.getEntriesByType=="function"&&(n=t.getEntriesByType("resource"),n.length>0))for(i=0;i<n.length;i++)r=n[i],r.Source="Resource",r.Url=window.location.toString(),this.enqueue(r)},n.prototype.log=function(){var n,r;typeof t.getEntriesByType=="function"&&(n=t.getEntriesByType("navigation"),n.length>0&&(n[0].Source="Navigation2",n[0].Url=window.location.toString(),this.enqueue(n[0])),this.logResources());typeof t.timing=="object"&&(r=new i(t.timing),r.Source="Navigation1",r.Url=window.location.toString(),this.enqueue(r))},n.prototype.onLoad=function(){},n.prototype.onBeforeUnload=function(){this.log();this.send(!1)},n.prototype.send=function(n,t){typeof n=="undefined"&&(n=!0);typeof t=="undefined"&&(t=this.Queue);t.length>0&&this.post(this.Url,t,n)},n.prototype.enqueue=function(n){var t=this.contains(this.Queue,n);t||this.Queue.push(n)},n.prototype.contains=function(n,t){for(var i=0;i<n.length;i++)if(this.equals(n[i],t))return!0;return!1},n.prototype.equals=function(n,t){var i,r;for(i in n)if(typeof n[i]!="undefined"&&typeof t[i]=="undefined"||n[i]!==t[i])return!1;for(r in t)if(typeof t[r]!="undefined"&&typeof n[r]=="undefined")return!1;return!0},n.prototype.post=function(n,t,i){var e=this,f,r,u;typeof i=="undefined"&&(i=!0);f=JSON.stringify(t);r=new XMLHttpRequest;r.open("POST",n,i);r.setRequestHeader("Content-type","application/json;charset=UTF-8");r.setRequestHeader("X-Requested-With","XMLHttpRequest");u=r.upload||{addEventListener:function(){}};u.addEventListener("error",function(n){throw n;},!1);u.addEventListener("progress",function(n){e.onSuccess(n)},!1);r.send(f)},n.prototype.onSuccess=function(){this.Queue=[]},n}(),r,i;n.Logger=u;r=function(){function n(){}return n.XmlHttpRequest=function(t,i){return n.value("berf."+t+"."+i)},n.Navigation=function(){return n.value("berf.navigation")},n.value=function(t){var i=n.getCookie(t);return i===""?{}:JSON.parse(i)},n.getCookie=function(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++)if(t=u[i].trim(),t.indexOf(r)==0)return t.substring(r.length,t.length);return""},n}();n.BerfCookie=r;i=function(){function n(n){n||(n=t.timing);this.navigationStart=this.delta(n.navigationStart,n.navigationStart);this.unloadEventStart=this.delta(n.navigationStart,n.unloadEventStart);this.unloadEventEnd=this.delta(n.navigationStart,n.unloadEventEnd);this.redirectStart=this.delta(n.navigationStart,n.redirectStart);this.redirectEnd=this.delta(n.navigationStart,n.redirectEnd);this.fetchStart=this.delta(n.navigationStart,n.fetchStart);this.domainLookupStart=this.delta(n.navigationStart,n.domainLookupStart);this.domainLookupEnd=this.delta(n.navigationStart,n.domainLookupEnd);this.connectStart=this.delta(n.navigationStart,n.connectStart);this.connectEnd=this.delta(n.navigationStart,n.connectEnd);this.secureConnectionStart=this.delta(n.navigationStart,n.secureConnectionStart);this.requestStart=this.delta(n.navigationStart,n.requestStart);this.responseStart=this.delta(n.navigationStart,n.responseStart);this.responseEnd=this.delta(n.navigationStart,n.responseEnd);this.domLoading=this.delta(n.navigationStart,n.domLoading);this.domInteractive=this.delta(n.navigationStart,n.domInteractive);this.domContentLoadedEventStart=this.delta(n.navigationStart,n.domContentLoadedEventStart);this.domContentLoadedEventEnd=this.delta(n.navigationStart,n.domContentLoadedEventEnd);this.domComplete=this.delta(n.navigationStart,n.domComplete);this.loadEventStart=this.delta(n.navigationStart,n.loadEventStart);this.loadEventEnd=this.delta(n.navigationStart,n.loadEventEnd);this.redirectCount=n.redirectCount;this.startTime=this.navigationStart;this.duration=this.loadEventEnd-this.navigationStart}return n.prototype.delta=function(n,t){return t===0?0:t-n},n}();n.Navigation=i})(Berf||(Berf={}));try{berf=new Berf.Logger}catch(ex){typeof console=="object"&&typeof console.log=="function"&&console.log(ex)}
/*
//# sourceMappingURL=Berf.min.js.map
*/